<!--
	For problematic rules, see Fedora_Project-problematic.xml.


	Other Fedora Project rulesets:

		- Fedora_Hosted.org.xml


	Nonfunctional domains:

		- fedoraproject.org subdomains:

			- directory ¹
			- infrastructure ²
			- kojipkgs ²
			- ols ³
			- pki ¹
			- planet ³
			- publictest04 ³
			- torrent ³

	¹ Redirects to www.aeolusproject.org; mismatched, CN: *.aeolusproject.org
	² Dropped
	³ Refused


	Problematic domains:

		- pkgs.fedoraproject.org	(works, self-signed)
		- koji.fedoraproject.org	(works mostly, self-signed)


	Fully covered domains:

		- fedoraproject.org subdomains:

			- (www.)
			- admin
			- alt
			- apps
			- archives
			- ask
			- badges
			- blogs
			- boot
			- dl
			- docs
			- download
			- get
			- join
			- lists
			- meetbot
			- mirrors
			- paste
			- retrace
			- spins
			- start
			- talk		


	Mixed content:

		- Images, on:

			- badges from infrastructure ²
			- badges from cdn.libravatar.org ³

	¹ Secured by us, seems to affect printing only
	² Unsecurable, doesn't trip MCB
	³ Secured by us

-->
<ruleset name="Fedora Project" default_off="Needs ruleset tests">

	<target host="fedoraproject.org" />
	<target host="*.fedoraproject.org" />
	<target host="fedorapeople.org" />
	<target host="*.fedorapeople.org" />

		<test url="http://admin.fedoraproject.org/" />
		<test url="http://alt.fedoraproject.org/" />
		<test url="http://apps.fedoraproject.org/" />
		<test url="http://archives.fedoraproject.org/" />
		<test url="http://ask.fedoraproject.org/" />
		<test url="http://badges.fedoraproject.org/" />
		<test url="http://blogs.fedoraproject.org/" />
		<test url="http://boot.fedoraproject.org/" />
		<test url="http://dl.fedoraproject.org/" />
		<test url="http://docs.fedoraproject.org/" />
		<test url="http://download.fedoraproject.org/" />
		<test url="http://get.fedoraproject.org/" />
		<test url="http://join.fedoraproject.org/" />
		<test url="http://lists.fedoraproject.org/" />
		<test url="http://meetbot.fedoraproject.org/" />
		<test url="http://mirrors.fedoraproject.org/" />
		<test url="http://paste.fedoraproject.org/" />
		<test url="http://people.fedoraproject.org/" />
		<test url="http://retrace.fedoraproject.org/" />
		<test url="http://spins.fedoraproject.org/" />
		<test url="http://start.fedoraproject.org/" />
		<test url="http://www.fedoraproject.org/" />


	<securecookie host="^(?:.*\.)?fedoraproject\.org$" name=".+" />


	<rule from="^http://((?:admin|alt|apps|archives|ask|badges|blogs|boot|dl|docs|download|get|join|lists|meetbot|mirrors|paste|people|retrace|spins|start|www)\.)?fedoraproject\.org/"
		to="https://$1fedoraproject.org/" />

	<rule from="^http://([\w-]+\.)?fedorapeople\.org/" to="https://$1fedorapeople.org/" />
</ruleset>
